<%= stylesheet_link_tag "users" %>

<div class="Profile-Info">
	<h1><%= @user.full_name %></h1>
	<div class="account-links">
		<p class="p-account-links"><%= link_to "Update Account Information", edit_user_path(@user) %></p>
		<p class="p-account-links"><%= link_to "Delete Account", @user, method: :delete, data: {confirm: "Are you sure you want to delete this user?"}  %></p>
	</div>

	<p> Name: <%= @user.name %></p>
	<p> Last Name: <%= @user.surname %></p>
	<p> Email: <%= @user.email %></p>
	<p> Phone Number: <%= @user.phone_number %></p>
</div>


<h4 class= "account-heading">Your Ratings</h4>

<div class = "user-ratings">
	<% @user.ratings.each do |rating| %>
	<li class="user-rating">
		For <%=link_to(rating.item.title, item_path(rating.item)) %>
		your rating is:
		<%=rating.score%>
		<%= link_to 'Edit rating', edit_item_rating_path(rating.item, rating) %>
	</li>
	<% end %>
	<br>
</div>


<h4 class= "account-heading"> The Items you have added </h4>

<div>
	<% @items.each do |item| %>
		<p>Item: <%= link_to item.title, item_path(item) %> </p>
		<%= link_to 'Edit this Item', edit_item_path(item) %>	|
		<%= link_to 'Delete this Item', item, method: :delete, data: {confirm: "Are you sure you want to delete this Item?"}  %>
	<% end %>
</div>

<div class= "user-reviews">
	<h4 class= "account-heading"> Your Reviews </h4>
	<% @user.reviews.each do |review| %>
	<li class="user-review">
		<p class="review-title">Listing: <%=link_to(review.item.title, item_path(review.item)) %></p>
		<p>
			<%=review.comment %>
		</p>
		<div class="poster">
			<% if review.user != nil %>
			Posted by <span style="font-weight: 600;"><%= review.user.name %></span> on <%= review.created_at %>
			<% else %>
			Posted by <span style="font-weight: 600;"><%= review.name %></span> on <%= review.created_at %>
			<% end %>
		</div>
		<div class="edit-delete-buttons">
			<%= link_to 'Edit', edit_item_review_path(review.item, review),class: "edit-review" %>
			<%= link_to 'Delete', item_review_path(review.item, review), class: "delete-review",method: :delete, data: {confirm: "Are you sure you want to delete this review? This action cannot be undone."}  %></p>
		</div>
		<div class="divider"></div>
	</li>
	<% end %>
</div>
