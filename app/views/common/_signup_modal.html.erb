<script>
var random_avatar;
$('#username-input').keyup(function(){
  random_avatar = Math.floor((Math.random() * 50) + 1);

  $('.avatar-image').css("background-color", "white");

  // $('.avatar-image')[0].src = "/images/avatars/" + String(random_avatar) + ".png";
  $('#username-output')[0].innerHTML = $('#username-input')[0].value;
  $('#avatar')[0].value = random_avatar;
});

$('.signup-cancel').click(function() {
  $('#shareSignupModal').modal('toggle');
});

</script>

<!-- Share New Question Modal -->
<div class="modal fade" id="shareSignupModal" tabindex="-1" role="dialog" aria-labelledby="shareSignupModal" aria-hidden="true">
    <span type="button" class="signup-cancel">X</span>

    <div class="share-modal-content-container">
      <%#= image_tag("anonprofile.png", size: "70x70", class: "avatar-image") %>
      <br/>
      
      <div class="signup-form">
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>

          <%#= hidden_field_tag 'avatar' %>
          <div class="signup-input">
            <div class="input-username">
              <%= f.text_field :name, placeholder: "Type Your Name", class: "input-box", id: "username-input" %>
            </div>
            <div class="input-username">
              <%= f.email_field :email, autofocus: true, placeholder: "Email", :class => "form-control" %>
            </div>
            <div class="input-password">
              <%= f.password_field :password, placeholder: "Password", class: "input-box", id: "password" %>
            </div>
            <div class="input-password">
              <%= f.password_field :password_confirmation, autocomplete: "off", placeholder: "Password Confirmation", class: "input-box" %>
            </div>
          </div>
          <div class="signup-links-bottom">
            <div id="signup-start">
              <%= f.submit "Let's get started!", class: "signup-button" %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
</div><!-- /.modal -->
